{"version":3,"sources":["useKeyboardHeight.tsx"],"names":["useKeyboardHeight","dimensions","isTouchDevice","window","matchMedia","matches","keyboardHeight","height","React","useEffect","virtualKeyboard","navigator","handler","event","target","value","addEventListener","removeEventListener","undefined"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEA,SAASA,iBAAT,CAA2BC,UAA3B,EAA0E;AACxE,QAAMC,aAAa,GAAGC,MAAM,CAACC,UAAP,CAAkB,mBAAlB,EAAuCC,OAA7D,CADwE,CAGxE;;AACA,QAAMC,cAAc,GAAG,2CACrBJ,aAAa,GAAGD,UAAU,CAACM,MAAX,GAAoB,CAAvB,GAA2B,CADnB,CAAvB;AAIAC,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAM;AACpB;AACA,UAAMC,eAAe,GAAIC,SAAD,CAAmBD,eAA3C;;AACA,QAAIA,eAAJ,EAAqB;AACnB,YAAME,OAAO,GAAIC,KAAD,IAAgB;AAC9B,cAAM;AAAEN,UAAAA;AAAF,YAAaM,KAAK,CAACC,MAAzB;AACAR,QAAAA,cAAc,CAACS,KAAf,GAAuBR,MAAvB;AACD,OAHD;;AAIAG,MAAAA,eAAe,CAACM,gBAAhB,CAAiC,iBAAjC,EAAoDJ,OAApD;AACA,aAAO,MAAM;AACXF,QAAAA,eAAe,CAACO,mBAAhB,CAAoC,iBAApC,EAAuDL,OAAvD;AACD,OAFD;AAGD;;AACD,WAAOM,SAAP;AACD,GAdD,EAcG,CAACZ,cAAD,CAdH;AAeA,SAAOA,cAAP;AACD;;eAEcN,iB","sourcesContent":["import * as React from 'react';\nimport { useSharedValue } from 'react-native-reanimated';\n\nfunction useKeyboardHeight(dimensions: { width: number; height: number }) {\n  const isTouchDevice = window.matchMedia('(pointer: coarse)').matches;\n\n  // If it's a touch device we conclude that half of the screen will be used by virtual keyboard\n  const keyboardHeight = useSharedValue(\n    isTouchDevice ? dimensions.height / 2 : 0\n  );\n\n  React.useEffect(() => {\n    // is this api is implemented yet, otherwise we fallback on behaviour above\n    const virtualKeyboard = (navigator as any).virtualKeyboard;\n    if (virtualKeyboard) {\n      const handler = (event: any) => {\n        const { height } = event.target;\n        keyboardHeight.value = height;\n      };\n      virtualKeyboard.addEventListener('geometrychanged', handler);\n      return () => {\n        virtualKeyboard.removeEventListener('geometrychanged', handler);\n      };\n    }\n    return undefined;\n  }, [keyboardHeight]);\n  return keyboardHeight;\n}\n\nexport default useKeyboardHeight;\n"]}