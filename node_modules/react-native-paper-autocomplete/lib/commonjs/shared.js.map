{"version":3,"sources":["shared.tsx"],"names":["useScrollableProps","onScroll","ref","scrollableRef","scrollX","scrollY","scrollHandler","e","x","y","contentOffset","value","nativeEvent","scrollableProps","scrollEventThrottle","keyboardShouldPersistTaps"],"mappings":";;;;;;;AAAA;;AAWA;;AAgBO,SAASA,kBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA2DC,GAA3D,EAAqE;AAC1E,QAAMC,aAAa,GAAG,4CAAtB;AACA,QAAMC,OAAO,GAAG,2CAAe,CAAf,CAAhB;AACA,QAAMC,OAAO,GAAG,2CAAe,CAAf,CAAhB;AACA,QAAMC,aAAa,GAAG,qDAA0BC,CAAD,IAAO;AACpD,UAAM;AAAEC,MAAAA,CAAF;AAAKC,MAAAA;AAAL,QAAWF,CAAC,CAACG,aAAnB;AACAN,IAAAA,OAAO,CAACO,KAAR,GAAgBH,CAAhB;AACAH,IAAAA,OAAO,CAACM,KAAR,GAAgBF,CAAhB;;AAEA,QAAIR,QAAJ,EAAc;AACZ;AACA,0CAAQA,QAAR,EAAkB;AAAEW,QAAAA,WAAW,EAAEL;AAAf,OAAlB;AACD;AACF,GATqB,CAAtB;AAUA,QAAMM,eAA4C,GAAG;AACnDX,IAAAA,GAAG,EAAE,0BAAU,CAACC,aAAD,EAAgBD,GAAhB,CAAV,CAD8C;AAEnDY,IAAAA,mBAAmB,EAAE,EAF8B;AAGnDC,IAAAA,yBAAyB,EAAE,SAHwB;AAInDd,IAAAA,QAAQ,EAAEK;AAJyC,GAArD;AAMA,SAAO;AAAEH,IAAAA,aAAF;AAAiBC,IAAAA,OAAjB;AAA0BC,IAAAA,OAA1B;AAAmCQ,IAAAA;AAAnC,GAAP;AACD","sourcesContent":["import {\n  runOnJS,\n  useAnimatedRef,\n  useAnimatedScrollHandler,\n  useSharedValue,\n} from 'react-native-reanimated';\nimport type {\n  NativeScrollEvent,\n  NativeSyntheticEvent,\n  ScrollViewProps,\n} from 'react-native';\nimport { mergeRefs } from './mergeRefs';\n\nexport type AutocompleteScrollableProps = {\n  ref?: any;\n  scrollEventThrottle?: number | undefined; // null\n  keyboardShouldPersistTaps?:\n    | boolean\n    | 'always'\n    | 'never'\n    | 'handled'\n    | undefined;\n  onScroll?:\n    | ((event: NativeSyntheticEvent<NativeScrollEvent>) => void)\n    | undefined;\n};\n\nexport function useScrollableProps({ onScroll }: ScrollViewProps, ref: any) {\n  const scrollableRef = useAnimatedRef<any>();\n  const scrollX = useSharedValue(0);\n  const scrollY = useSharedValue(0);\n  const scrollHandler = useAnimatedScrollHandler((e) => {\n    const { x, y } = e.contentOffset;\n    scrollX.value = x;\n    scrollY.value = y;\n\n    if (onScroll) {\n      // https://github.com/software-mansion/react-native-reanimated/issues/2426\n      runOnJS(onScroll)({ nativeEvent: e } as any);\n    }\n  });\n  const scrollableProps: AutocompleteScrollableProps = {\n    ref: mergeRefs([scrollableRef, ref]),\n    scrollEventThrottle: 16,\n    keyboardShouldPersistTaps: 'handled',\n    onScroll: scrollHandler,\n  };\n  return { scrollableRef, scrollX, scrollY, scrollableProps };\n}\n"]}